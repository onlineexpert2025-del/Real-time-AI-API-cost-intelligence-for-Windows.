<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:tb="http://www.hardcodet.net/taskbar"
                    xmlns:vm="clr-namespace:CostPulse.ViewModels">

    <ContextMenu x:Key="TrayMenu">
        <MenuItem Header="Open Widget" Command="{Binding ShowWidgetCommand}" />
        <MenuItem Header="Add Entry" Command="{Binding AddEntryCommand}" />
        <MenuItem Header="History" Command="{Binding ShowHistoryCommand}" />
        <MenuItem Header="Settings" Command="{Binding OpenSettingsCommand}" />
        <MenuItem Header="Export CSV" Command="{Binding ExportCommand}" />
        <Separator />
        <MenuItem Header="Exit" Command="{Binding ExitCommand}" />
    </ContextMenu>

    <tb:TaskbarIcon x:Key="MyNotifyIcon"
                    ToolTipText="CostPulse"
                    ContextMenu="{StaticResource TrayMenu}">
        <!-- IconSource will be set in code or here if we have the resource. 
             Since we are generating it dynamically, let's bind or set in code.
             Actually, let's assume we have 'AppIcon.png' in root and use Pack URI. -->
        <!-- <tb:TaskbarIcon.IconSource>/icon.ico</tb:TaskbarIcon.IconSource> -->
        <!-- We will set IconSource in App.xaml.cs to be safe -->
    </tb:TaskbarIcon>

</ResourceDictionary>
